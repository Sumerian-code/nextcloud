"use strict";(self.webpackChunknextcloud_mail=self.webpackChunknextcloud_mail||[]).push([[393],{61679:(t,n,e)=>{e.d(n,{A:()=>c});var o=e(71354),r=e.n(o),a=e(76314),i=e.n(a)()(r());i.push([t.id,"\n.container{\n display: flex;\n justify-content: center;\n}\n","",{version:3,sources:["webpack://./src/views/Setup.vue"],names:[],mappings:";AA2EA;CACA,aAAA;CACA,uBAAA;AACA",sourcesContent:["\x3c!--\n  - SPDX-FileCopyrightText: 2018 Nextcloud GmbH and Nextcloud contributors\n  - SPDX-License-Identifier: AGPL-3.0-or-later\n--\x3e\n<template>\n\t<NcContent app-name=\"mail\">\n\t\t<Navigation v-if=\"hasAccounts\" />\n\t\t<AppContent class=\"container\">\n\t\t\t<div v-if=\"allowNewMailAccounts\">\n\t\t\t\t<EmptyContent :name=\"t('mail', 'Connect your mail account')\">\n\t\t\t\t\t<template #icon>\n\t\t\t\t\t\t<IconMail :size=\"65\" />\n\t\t\t\t\t</template>\n\t\t\t\t</EmptyContent>\n\t\t\t\t<AccountForm :display-name=\"displayName\"\n\t\t\t\t\t:email=\"email\"\n\t\t\t\t\t:error.sync=\"error\"\n\t\t\t\t\t@account-created=\"onAccountCreated\" />\n\t\t\t</div>\n\t\t\t<EmptyContent v-else :name=\"t('mail', 'To add a mail account, please contact your administrator.')\">\n\t\t\t\t<template #icon>\n\t\t\t\t\t<IconMail :size=\"65\" />\n\t\t\t\t</template>\n\t\t\t</EmptyContent>\n\t\t</AppContent>\n\t</NcContent>\n</template>\n\n<script>\nimport { NcContent, NcAppContent as AppContent, NcEmptyContent as EmptyContent } from '@nextcloud/vue'\nimport { loadState } from '@nextcloud/initial-state'\n\nimport AccountForm from '../components/AccountForm.vue'\nimport IconMail from 'vue-material-design-icons/Email.vue'\nimport Navigation from '../components/Navigation.vue'\nimport logger from '../logger.js'\nimport { mapStores } from 'pinia'\nimport useMainStore from '../store/mainStore.js'\n\nexport default {\n\tname: 'Setup',\n\tcomponents: {\n\t\tAppContent,\n\t\tAccountForm,\n\t\tNcContent,\n\t\tEmptyContent,\n\t\tIconMail,\n\t\tNavigation,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tdisplayName: loadState('mail', 'prefill_displayName'),\n\t\t\temail: loadState('mail', 'prefill_email'),\n\t\t\tallowNewMailAccounts: loadState('mail', 'allow-new-accounts', true),\n\t\t\terror: null,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapStores(useMainStore),\n\t\thasAccounts() {\n\t\t\treturn this.mainStore.getAccounts.length > 1\n\t\t},\n\t},\n\tmethods: {\n\t\tonAccountCreated() {\n\t\t\tlogger.info('account successfully created, redirecting …')\n\t\t\tthis.$router.push({\n\t\t\t\tname: 'home',\n\t\t\t})\n\t\t},\n\t},\n}\n<\/script>\n\n<style>\n.container{\n display: flex;\n justify-content: center;\n}\n</style>\n"],sourceRoot:""}]);const c=i},393:(t,n,e)=>{e.r(n),e.d(n,{default:()=>P});var o=e(85327),r=e(32981),a=e(48075),i=e(54573),c=e(66399),l=e(85745),s=e(51849),u=e(19534);function m(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,o)}return e}function p(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?m(Object(e),!0).forEach((function(n){d(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):m(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function d(t,n,e){return(n=function(t){var n=function(t){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var e=n.call(t,"string");if("object"!=typeof e)return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==typeof n?n:n+""}(n))in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}const f={name:"Setup",components:{AppContent:o.ir,AccountForm:a.A,NcContent:o.bw,EmptyContent:o.yI,IconMail:i.A,Navigation:c.A},data:()=>({displayName:(0,r.C)("mail","prefill_displayName"),email:(0,r.C)("mail","prefill_email"),allowNewMailAccounts:(0,r.C)("mail","allow-new-accounts",!0),error:null}),computed:p(p({},(0,s.n2)(u.A)),{},{hasAccounts(){return this.mainStore.getAccounts.length>1}}),methods:{onAccountCreated(){l.A.info("account successfully created, redirecting …"),this.$router.push({name:"home"})}}};var y=e(85072),A=e.n(y),C=e(97825),v=e.n(C),g=e(77659),b=e.n(g),h=e(55056),w=e.n(h),N=e(10540),S=e.n(N),j=e(41113),O=e.n(j),E=e(61679),x={};x.styleTagTransform=O(),x.setAttributes=w(),x.insert=b().bind(null,"head"),x.domAPI=v(),x.insertStyleElement=S(),A()(E.A,x),E.A&&E.A.locals&&E.A.locals;const P=(0,e(14486).A)(f,(function(){var t=this,n=t._self._c;return n("NcContent",{attrs:{"app-name":"mail"}},[t.hasAccounts?n("Navigation"):t._e(),t._v(" "),n("AppContent",{staticClass:"container"},[t.allowNewMailAccounts?n("div",[n("EmptyContent",{attrs:{name:t.t("mail","Connect your mail account")},scopedSlots:t._u([{key:"icon",fn:function(){return[n("IconMail",{attrs:{size:65}})]},proxy:!0}],null,!1,2751298635)}),t._v(" "),n("AccountForm",{attrs:{"display-name":t.displayName,email:t.email,error:t.error},on:{"update:error":function(n){t.error=n},"account-created":t.onAccountCreated}})],1):n("EmptyContent",{attrs:{name:t.t("mail","To add a mail account, please contact your administrator.")},scopedSlots:t._u([{key:"icon",fn:function(){return[n("IconMail",{attrs:{size:65}})]},proxy:!0}])})],1)],1)}),[],!1,null,null,null).exports}}]);
//# sourceMappingURL=mail.393.fda0d9be6d9378dfb82a.js.map